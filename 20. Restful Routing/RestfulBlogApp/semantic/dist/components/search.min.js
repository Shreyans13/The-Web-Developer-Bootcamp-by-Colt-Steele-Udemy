 /*
 * # Fomantic UI - 2.8.4
 * https://github.com/fomantic/Fomantic-UI
 * http://fomantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(k,q,D,E){"use strict";k.isFunction=k.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},q=void 0!==q&&q.Math==Math?q:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),k.fn.search=function(R){var x,C=k(this),w=C.selector||"",S=(new Date).getTime(),F=[],T=R,j="string"==typeof T,A=[].slice.call(arguments,1);return k(this).each(function(){var l=k.isPlainObject(R)?k.extend(!0,{},k.fn.search.settings,R):k.extend({},k.fn.search.settings),f=l.className,u=l.metadata,n=l.regExp,i=l.fields,g=l.selector,d=l.error,e=l.namespace,r="."+e,t=e+"-module",h=k(this),p=h.find(g.prompt),s=h.find(g.searchButton),a=h.find(g.results),c=h.find(g.result),m=(h.find(g.category),this),o=h.data(t),v=!1,y=!1,b={initialize:function(){b.verbose("Initializing module"),b.get.settings(),b.determine.searchFields(),b.bind.events(),b.set.type(),b.create.results(),b.instantiate()},instantiate:function(){b.verbose("Storing instance of module",b),o=b,h.data(t,b)},destroy:function(){b.verbose("Destroying instance"),h.off(r).removeData(t)},refresh:function(){b.debug("Refreshing selector cache"),p=h.find(g.prompt),s=h.find(g.searchButton),h.find(g.category),a=h.find(g.results),c=h.find(g.result)},refreshResults:function(){a=h.find(g.results),c=h.find(g.result)},bind:{events:function(){b.verbose("Binding events to search"),l.automatic&&(h.on(b.get.inputEvent()+r,g.prompt,b.event.input),p.attr("autocomplete","off")),h.on("focus"+r,g.prompt,b.event.focus).on("blur"+r,g.prompt,b.event.blur).on("keydown"+r,g.prompt,b.handleKeyboard).on("click"+r,g.searchButton,b.query).on("mousedown"+r,g.results,b.event.result.mousedown).on("mouseup"+r,g.results,b.event.result.mouseup).on("click"+r,g.result,b.event.result.click)}},determine:{searchFields:function(){R&&R.searchFields!==E&&(l.searchFields=R.searchFields)}},event:{input:function(){l.searchDelay?(clearTimeout(b.timer),b.timer=setTimeout(function(){b.is.focused()&&b.query()},l.searchDelay)):b.query()},focus:function(){b.set.focus(),l.searchOnFocus&&b.has.minimumCharacters()&&b.query(function(){b.can.show()&&b.showResults()})},blur:function(e){function t(){b.cancel.query(),b.remove.focus(),b.timer=setTimeout(b.hideResults,l.hideDelay)}var s=D.activeElement===this;s||(y=!1,b.resultsClicked?(b.debug("Determining if user action caused search to close"),h.one("click.close"+r,g.results,function(e){b.is.inMessage(e)||v?p.focus():(v=!1,b.is.animating()||b.is.hidden()||t())})):(b.debug("Input blurred without user action, closing results"),t()))},result:{mousedown:function(){b.resultsClicked=!0},mouseup:function(){b.resultsClicked=!1},click:function(e){b.debug("Search result selected");var t=k(this),s=t.find(g.title).eq(0),n=t.is("a[href]")?t:t.find("a[href]").eq(0),r=n.attr("href")||!1,i=n.attr("target")||!1,a=0<s.length&&s.text(),c=b.get.results(),o=t.data(u.result)||b.get.result(a,c);if(a&&b.set.value(a),k.isFunction(l.onSelect)&&!1===l.onSelect.call(m,o,c))return b.debug("Custom onSelect callback cancelled default select action"),void(v=!0);b.hideResults(),r&&(b.verbose("Opening search link found in result",n),"_blank"==i||e.ctrlKey?q.open(r):q.location.href=r)}}},handleKeyboard:function(e){var t,s=h.find(g.result),n=h.find(g.category),r=s.filter("."+f.active),i=s.index(r),a=s.length,c=0<r.length,o=e.which,u=13,l=38,d=40;if(o==27&&(b.verbose("Escape key pressed, blurring search field"),b.hideResults(),y=!0),b.is.visible())if(o==u){if(b.verbose("Enter key pressed, selecting active result"),0<s.filter("."+f.active).length)return b.event.result.click.call(s.filter("."+f.active),e),e.preventDefault(),!1}else o==l&&c?(b.verbose("Up key pressed, changing active result"),t=i-1<0?i:i-1,n.removeClass(f.active),s.removeClass(f.active).eq(t).addClass(f.active).closest(n).addClass(f.active),e.preventDefault()):o==d&&(b.verbose("Down key pressed, changing active result"),t=a<=i+1?i:i+1,n.removeClass(f.active),s.removeClass(f.active).eq(t).addClass(f.active).closest(n).addClass(f.active),e.preventDefault());else o==u&&(b.verbose("Enter key pressed, executing query"),b.query(),b.set.buttonPressed(),p.one("keyup",b.remove.buttonFocus))},setup:{api:function(t,s){var e={debug:l.debug,on:!1,cache:l.cache,action:"search",urlData:{query:t},onSuccess:function(e){b.parse.response.call(m,e,t),s()},onFailure:function(){b.displayMessage(d.serverError),s()},onAbort:function(e){},onError:b.error};k.extend(!0,e,l.apiSettings),b.verbose("Setting up API request",e),h.api(e)}},can:{useAPI:function(){return k.fn.api!==E},show:function(){return b.is.focused()&&!b.is.visible()&&!b.is.empty()},transition:function(){return l.transition&&k.fn.transition!==E&&h.transition("is supported")}},is:{animating:function(){return a.hasClass(f.animating)},hidden:function(){return a.hasClass(f.hidden)},inMessage:function(e){if(e.target){var t=k(e.target);return k.contains(D.documentElement,e.target)&&0<t.closest(g.message).length}},empty:function(){return""===a.html()},visible:function(){return 0<a.filter(":visible").length},focused:function(){return 0<p.filter(":focus").length}},get:{settings:function(){k.isPlainObject(R)&&R.searchFullText&&(l.fullTextSearch=R.searchFullText,b.error(l.error.oldSearchSyntax,m)),l.ignoreDiacritics&&!String.prototype.normalize&&(l.ignoreDiacritics=!1,b.error(d.noNormalize,m))},inputEvent:function(){var e=p[0];return e!==E&&e.oninput!==E?"input":e!==E&&e.onpropertychange!==E?"propertychange":"keyup"},value:function(){return p.val()},results:function(){return h.data(u.results)},result:function(s,e){var n=!1;return s=s!==E?s:b.get.value(),e=e!==E?e:b.get.results(),"category"===l.type?(b.debug("Finding result that matches",s),k.each(e,function(e,t){if(Array.isArray(t.results)&&(n=b.search.object(s,t.results)[0]))return!1})):(b.debug("Finding result in results object",s),n=b.search.object(s,e)[0]),n||!1}},select:{firstResult:function(){b.verbose("Selecting first result"),c.first().addClass(f.active)}},set:{focus:function(){h.addClass(f.focus)},loading:function(){h.addClass(f.loading)},value:function(e){b.verbose("Setting search input value",e),p.val(e)},type:function(e){e=e||l.type,"category"==l.type&&h.addClass(l.type)},buttonPressed:function(){s.addClass(f.pressed)}},remove:{loading:function(){h.removeClass(f.loading)},focus:function(){h.removeClass(f.focus)},buttonPressed:function(){s.removeClass(f.pressed)},diacritics:function(e){return l.ignoreDiacritics?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}},query:function(e){e=k.isFunction(e)?e:function(){};var t=b.get.value(),s=b.read.cache(t);e=e||function(){},b.has.minimumCharacters()?(s?(b.debug("Reading result from cache",t),b.save.results(s.results),b.addResults(s.html),b.inject.id(s.results),e()):(b.debug("Querying for",t),k.isPlainObject(l.source)||Array.isArray(l.source)?(b.search.local(t),e()):b.can.useAPI()?b.search.remote(t,e):(b.error(d.source),e())),l.onSearchQuery.call(m,t)):b.hideResults()},search:{local:function(e){var t,s=b.search.object(e,l.source);b.set.loading(),b.save.results(s),b.debug("Returned full local search results",s),0<l.maxResults&&(b.debug("Using specified max results",s),s=s.slice(0,l.maxResults)),"category"==l.type&&(s=b.create.categoryResults(s)),t=b.generateResults({results:s}),b.remove.loading(),b.addResults(t),b.inject.id(s),b.write.cache(e,{html:t,results:s})},remote:function(e,t){t=k.isFunction(t)?t:function(){},h.api("is loading")&&h.api("abort"),b.setup.api(e,t),h.api("query")},object:function(r,t,e){r=b.remove.diacritics(String(r));function i(e,t){var s=-1==k.inArray(t,a),n=-1==k.inArray(t,o),r=-1==k.inArray(t,c);s&&n&&r&&e.push(t)}var a=[],c=[],o=[],s=r.replace(n.escape,"\\$&"),u=new RegExp(n.beginsWith+s,"i");return t=t||l.source,e=e!==E?e:l.searchFields,Array.isArray(e)||(e=[e]),t===E||!1===t?(b.error(d.source),[]):(k.each(e,function(e,n){k.each(t,function(e,t){var s;"string"!=typeof t[n]&&"number"!=typeof t[n]||(-1!==(s="string"==typeof t[n]?b.remove.diacritics(t[n]):t[n].toString()).search(u)?i(a,t):"exact"===l.fullTextSearch&&b.exactSearch(r,s)?i(c,t):1==l.fullTextSearch&&b.fuzzySearch(r,s)&&i(o,t))})}),k.merge(c,o),k.merge(a,c),a)}},exactSearch:function(e,t){return e=e.toLowerCase(),-1<(t=t.toLowerCase()).indexOf(e)},fuzzySearch:function(e,t){var s=t.length,n=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),s<n)return!1;if(n===s)return e===t;e:for(var r=0,i=0;r<n;r++){for(var a=e.charCodeAt(r);i<s;)if(t.charCodeAt(i++)===a)continue e;return!1}return!0},parse:{response:function(e,t){var s;Array.isArray(e)&&((s={})[i.results]=e,e=s);var n=b.generateResults(e);b.verbose("Parsing server response",e),e!==E&&t!==E&&e[i.results]!==E&&(b.addResults(n),b.inject.id(e[i.results]),b.write.cache(t,{html:n,results:e[i.results]}),b.save.results(e[i.results]))}},cancel:{query:function(){b.can.useAPI()&&h.api("abort")}},has:{minimumCharacters:function(){return b.get.value().length>=l.minCharacters},results:function(){return 0!==a.length&&""!=a.html()}},clear:{cache:function(e){var t=h.data(u.cache);e?e&&t&&t[e]&&(b.debug("Removing value from cache",e),delete t[e],h.data(u.cache,t)):(b.debug("Clearing cache",e),h.removeData(u.cache))}},read:{cache:function(e){var t=h.data(u.cache);return!!l.cache&&(b.verbose("Checking cache for generated html for query",e),"object"==typeof t&&t[e]!==E&&t[e])}},create:{categoryResults:function(e){var s={};return k.each(e,function(e,t){t.category&&(s[t.category]===E?(b.verbose("Creating new category of results",t.category),s[t.category]={name:t.category,results:[t]}):s[t.category].results.push(t))}),s},id:function(e,t){var s,n=e+1;return t!==E?(s=String.fromCharCode(97+t)+n,b.verbose("Creating category result id",s)):(s=n,b.verbose("Creating result id",s)),s},results:function(){0===a.length&&(a=k("<div />").addClass(f.results).appendTo(h))}},inject:{result:function(e,t,s){b.verbose("Injecting result into results");var n=s!==E?a.children().eq(s).children(g.results).first().children(g.result).eq(t):a.children(g.result).eq(t);b.verbose("Injecting results metadata",n),n.data(u.result,e)},id:function(e){b.debug("Injecting unique ids into results");var s=0,n=0;return"category"===l.type?k.each(e,function(e,t){0<t.results.length&&(n=0,k.each(t.results,function(e,t){t.id===E&&(t.id=b.create.id(n,s)),b.inject.result(t,n,s),n++}),s++)}):k.each(e,function(e,t){t.id===E&&(t.id=b.create.id(n)),b.inject.result(t,n),n++}),e}},save:{results:function(e){b.verbose("Saving current search results to metadata",e),h.data(u.results,e)}},write:{cache:function(e,t){var s=h.data(u.cache)!==E?h.data(u.cache):{};l.cache&&(b.verbose("Writing generated html to cache",e,t),s[e]=t,h.data(u.cache,s))}},addResults:function(e){if(k.isFunction(l.onResultsAdd)&&!1===l.onResultsAdd.call(a,e))return b.debug("onResultsAdd callback cancelled default action"),!1;e?(a.html(e),b.refreshResults(),l.selectFirstResult&&b.select.firstResult(),b.showResults()):b.hideResults(function(){a.empty()})},showResults:function(e){e=k.isFunction(e)?e:function(){},y||!b.is.visible()&&b.has.results()&&(b.can.transition()?(b.debug("Showing results with css animations"),a.transition({animation:l.transition+" in",debug:l.debug,verbose:l.verbose,duration:l.duration,onComplete:function(){e()},queue:!0})):(b.debug("Showing results with javascript"),a.stop().fadeIn(l.duration,l.easing)),l.onResultsOpen.call(a))},hideResults:function(e){e=k.isFunction(e)?e:function(){},b.is.visible()&&(b.can.transition()?(b.debug("Hiding results with css animations"),a.transition({animation:l.transition+" out",debug:l.debug,verbose:l.verbose,duration:l.duration,onComplete:function(){e()},queue:!0})):(b.debug("Hiding results with javascript"),a.stop().fadeOut(l.duration,l.easing)),l.onResultsClose.call(a))},generateResults:function(e){b.debug("Generating html from response",e);var t=l.templates[l.type],s=k.isPlainObject(e[i.results])&&!k.isEmptyObject(e[i.results]),n=Array.isArray(e[i.results])&&0<e[i.results].length,r="";return s||n?(0<l.maxResults&&(s?"standard"==l.type&&b.error(d.maxResults):e[i.results]=e[i.results].slice(0,l.maxResults)),k.isFunction(t)?r=t(e,i,l.preserveHTML):b.error(d.noTemplate,!1)):l.showNoResults&&(r=b.displayMessage(d.noResults,"empty",d.noResultsHeader)),l.onResults.call(m,e),r},displayMessage:function(e,t,s){return t=t||"standard",b.debug("Displaying message",e,t,s),b.addResults(l.templates.message(e,t,s)),l.templates.message(e,t,s)},setting:function(e,t){if(k.isPlainObject(e))k.extend(!0,l,e);else{if(t===E)return l[e];l[e]=t}},internal:function(e,t){if(k.isPlainObject(e))k.extend(!0,b,e);else{if(t===E)return b[e];b[e]=t}},debug:function(){!l.silent&&l.debug&&(l.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,l.name+":"),b.debug.apply(console,arguments)))},verbose:function(){!l.silent&&l.verbose&&l.debug&&(l.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),b.verbose.apply(console,arguments)))},error:function(){l.silent||(b.error=Function.prototype.bind.call(console.error,console,l.name+":"),b.error.apply(console,arguments))},performance:{log:function(e){var t,s;l.performance&&(s=(t=(new Date).getTime())-(S||t),S=t,F.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:m,"Execution Time":s})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var e=l.name+":",s=0;S=!1,clearTimeout(b.performance.timer),k.each(F,function(e,t){s+=t["Execution Time"]}),e+=" "+s+"ms",w&&(e+=" '"+w+"'"),1<C.length&&(e+=" ("+C.length+")"),(console.group!==E||console.table!==E)&&0<F.length&&(console.groupCollapsed(e),console.table?console.table(F):k.each(F,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),F=[]}},invoke:function(n,e,t){var r,i,s,a=o;return e=e||A,t=m||t,"string"==typeof n&&a!==E&&(n=n.split(/[\. ]/),r=n.length-1,k.each(n,function(e,t){var s=e!=r?t+n[e+1].charAt(0).toUpperCase()+n[e+1].slice(1):n;if(k.isPlainObject(a[s])&&e!=r)a=a[s];else{if(a[s]!==E)return i=a[s],!1;if(!k.isPlainObject(a[t])||e==r)return a[t]!==E&&(i=a[t]),!1;a=a[t]}})),k.isFunction(i)?s=i.apply(t,e):i!==E&&(s=i),Array.isArray(x)?x.push(s):x!==E?x=[x,s]:s!==E&&(x=s),i}};j?(o===E&&b.initialize(),b.invoke(T)):(o!==E&&o.invoke("destroy"),b.initialize())}),x!==E?x:this},k.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["id","title","description"],displayField:"",fullTextSearch:"exact",ignoreDiacritics:!1,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,preserveHTML:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResultsHeader:"No Results",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",oldSearchSyntax:"searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined.",noNormalize:'"ignoreDiacritics" setting will be ignored. Browser does not support String().normalize(). You may consider including <https://cdn.jsdelivr.net/npm/unorm@1.4.1/lib/unorm.min.js> as a polyfill.'},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e,t){if(t)return e;var s={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?(e=e.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;")).replace(/[<>"'`]/g,function(e){return s[e]}):e},message:function(e,t,s){var n="";return e!==E&&t!==E&&(n+='<div class="message '+t+'">',s&&(n+='<div class="header">'+s+"</div>"),n+=' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(e,s,n){var r="",i=k.fn.search.settings.templates.escape;return e[s.categoryResults]!==E&&(k.each(e[s.categoryResults],function(e,t){t[s.results]!==E&&0<t.results.length&&(r+='<div class="category">',t[s.categoryName]!==E&&(r+='<div class="name">'+i(t[s.categoryName],n)+"</div>"),r+='<div class="results">',k.each(t.results,function(e,t){t[s.url]?r+='<a class="result" href="'+t[s.url].replace(/"/g,"")+'">':r+='<a class="result">',t[s.image]!==E&&(r+='<div class="image"> <img src="'+t[s.image].replace(/"/g,"")+'"></div>'),r+='<div class="content">',t[s.price]!==E&&(r+='<div class="price">'+i(t[s.price],n)+"</div>"),t[s.title]!==E&&(r+='<div class="title">'+i(t[s.title],n)+"</div>"),t[s.description]!==E&&(r+='<div class="description">'+i(t[s.description],n)+"</div>"),r+="</div>",r+="</a>"}),r+="</div>",r+="</div>")}),e[s.action]&&(!1===s.actionURL?r+='<div class="action">'+i(e[s.action][s.actionText],n)+"</div>":r+='<a href="'+e[s.action][s.actionURL].replace(/"/g,"")+'" class="action">'+i(e[s.action][s.actionText],n)+"</a>"),r)},standard:function(e,s,n){var r="",i=k.fn.search.settings.templates.escape;return e[s.results]!==E&&(k.each(e[s.results],function(e,t){t[s.url]?r+='<a class="result" href="'+t[s.url].replace(/"/g,"")+'">':r+='<a class="result">',t[s.image]!==E&&(r+='<div class="image"> <img src="'+t[s.image].replace(/"/g,"")+'"></div>'),r+='<div class="content">',t[s.price]!==E&&(r+='<div class="price">'+i(t[s.price],n)+"</div>"),t[s.title]!==E&&(r+='<div class="title">'+i(t[s.title],n)+"</div>"),t[s.description]!==E&&(r+='<div class="description">'+i(t[s.description],n)+"</div>"),r+="</div>",r+="</a>"}),e[s.action]&&(!1===s.actionURL?r+='<div class="action">'+i(e[s.action][s.actionText],n)+"</div>":r+='<a href="'+e[s.action][s.actionURL].replace(/"/g,"")+'" class="action">'+i(e[s.action][s.actionText],n)+"</a>"),r)}}}}(jQuery,window,document);